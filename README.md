# Road Safety Helmet Detection System

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Ä—É—à–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–∞—â–∏—Ç–Ω—ã—Ö —à–ª–µ–º–æ–≤ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –¥–æ—Ä–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è (–º–æ—Ç–æ—Ü–∏–∫–ª–∏—Å—Ç—ã, –≤–µ–ª–æ—Å–∏–ø–µ–¥–∏—Å—Ç—ã). –ü–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –±–∞–∑–µ YOLOv8s, FastAPI –∏ PostgreSQL —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Docker. –ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –Ω–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è AI City Track.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –î–µ—Ç–µ–∫—Ü–∏—è –ª—é–¥–µ–π –∏ —à–ª–µ–º–æ–≤ —Å –ø–æ–º–æ—â—å—é –∫–∞—Å—Ç–æ–º–Ω–æ–π YOLOv8 –º–æ–¥–µ–ª–∏
- –¢—Ä–µ–∫–∏–Ω–≥ –æ–±—ä–µ–∫—Ç–æ–≤ (ByteTrack) –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ —á–µ–ª–æ–≤–µ–∫–∞
- –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è: –¥–æ–ª—è –∫–∞–¥—Ä–æ–≤ –±–µ–∑ —à–ª–µ–º–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –Ω–∞—Ä—É—à–µ–Ω–∏–π –≤ PostgreSQL
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–¥—Ä–æ–≤ —Å –Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏
- REST API —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π (Swagger UI)
- –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è 

---

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

### –õ–æ–≥–∏–∫–∞ —Ç—Ä–µ–∫–∏–Ω–≥–∞ –∏ –¥–µ—Ç–µ–∫—Ü–∏–∏

1. **–î–µ—Ç–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ (YOLOv8):**
   - –ù–∞ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ –º–æ–¥–µ–ª—å –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∏—Ö –ø–æ –∫–ª–∞—Å—Å–∞–º.
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç—Ä–µ–∫–µ—Ä BoT-SORT, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –∫–∞–∂–¥–æ–º—É –æ–±—ä–µ–∫—Ç—É —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `track_id` –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –µ–≥–æ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ –≤–∏–¥–µ–æ.

2. **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ `track_id` —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–∞–∂–¥–æ–º—É –∫–∞–¥—Ä—É:
     - —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –æ–±—ä–µ–∫—Ç –±—ã–ª —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω –∫–∞–∫ ¬´–≤ —à–ª–µ–º–µ¬ª.
     - —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –æ–±—ä–µ–∫—Ç –±—ã–ª —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω –∫–∞–∫ ¬´–±–µ–∑ —à–ª–µ–º–∞¬ª.

3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —à—É–º–∞:**
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ –æ—Ç—Å–ª–µ–∂–µ–Ω—ã –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –Ω–µ –º–µ–Ω–µ–µ 30 –∫–∞–¥—Ä–æ–≤ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞.
   - –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –æ—Ç—Å–µ–∏–≤–∞–µ–º –∫—Ä–∞—Ç–∫–∏–µ –∏ —Å–ª—É—á–∞–π–Ω—ã–µ —Ç—Ä–µ–∫–∏, —É–º–µ–Ω—å—à–∞—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π.

4. **–†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è:**
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–∫–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –¥–æ–ª—è –∫–∞–¥—Ä–æ–≤ –±–µ–∑ —à–ª–µ–º–∞:
     - `ratio_no_helmet = no_helmet_frames / (helmet_frames + no_helmet_frames)`.

5. **–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
   - –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –±–æ–ª–µ–µ 80% –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –±–µ–∑ —à–ª–µ–º–∞, —Ç—Ä–µ–∫ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º.
   - –ò–∑ —Ç–µ–∫—É—â–µ–≥–æ –∫–∞–¥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫—Ä–æ–ø —Å –Ω–∞—Ä—É—à–∏—Ç–µ–ª–µ–º.
   - –í —Ç–∞–±–ª–∏—Ü—É `violations` –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å —Å –ø–æ–ª—è–º–∏:
     - `video_name`, `track_id`, `frame_idx`, `bbox`, `ratio_no_helmet`, `image_path`, `created_at`.

---

## –ú–µ—Ç—Ä–∏–∫–∏

### –ò—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –∫–ª–∞—Å—Å–∞–º
![–ò—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –∫–ª–∞—Å—Å–∞–º](assets/metrics.png)

### –ì—Ä–∞—Ñ–∏–∫–∏ –æ–±—É—á–µ–Ω–∏—è
![–ì—Ä–∞—Ñ–∏–∫–∏](assets/results.png)

### –ú–∞—Ç—Ä–∏—Ü–∞ –æ—à–∏–±–æ–∫
![–ú–∞—Ç—Ä–∏—Ü–∞ –æ—à–∏–±–æ–∫](assets/confusion_matrix.png)


### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã `violations`

| –ö–æ–ª–æ–Ω–∫–∞          | –¢–∏–ø       | –û–ø–∏—Å–∞–Ω–∏–µ                                                  |
| ---------------- | --------- | --------------------------------------------------------- |
| `id`             | Integer   | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á                                            |
| `video_name`     | String    | –ò–º—è –≤–∏–¥–µ–æ—Ñ–∞–π–ª–∞                                            |
| `track_id`       | Integer   | ID —Ç—Ä–µ–∫–∞ –æ–±—ä–µ–∫—Ç–∞ (—É–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞)         |
| `frame_idx`      | Integer   | –ù–æ–º–µ—Ä –∫–∞–¥—Ä–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞—Ä—É—à–µ–Ω–∏–µ          |
| `bbox`           | String    | –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã bbox (—Ñ–æ—Ä–º–∞—Ç: "x1,y1,x2,y2")                 |
| `ratio_no_helmet`| Float     | –î–æ–ª—è –∫–∞–¥—Ä–æ–≤ –±–µ–∑ —à–ª–µ–º–∞ (0.0 = –≤—Å–µ–≥–¥–∞ –≤ —à–ª–µ–º–µ, 1.0 = –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª –≤ —à–ª–µ–º–µ) |
| `image_path`     | String    | –ü—É—Ç—å –∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–º—É –∫–∞–¥—Ä—É                                 |
| `created_at`     | DateTime  | –í—Ä–µ–º—è –∑–∞–ø–∏—Å–∏ –≤ –ë–î                                         |

---

## –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ –Ω–∞ –≤–∏–¥–µ–æ

![–ü—Ä–∏–º–µ—Ä —Ç—Ä–µ–∫–∏–Ω–≥–∞](assets/tracking_example.gif)

### –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

![–°–∫—Ä–∏–Ω—à–æ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](assets/database_res.png)

### –ü—Ä–∏–º–µ—Ä JSON-–æ—Ç–≤–µ—Ç–∞ API

![–°–∫—Ä–∏–Ω—à–æ—Ç JSON-–æ—Ç–≤–µ—Ç–∞](assets/json_res.png)

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- [Docker Desktop](https://www.docker.com/products/docker-desktop/) (Windows/Mac/Linux)
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) [pgAdmin 4](https://www.pgadmin.org/) –∏–ª–∏ –¥—Ä—É–≥–∏–µ —É–¥–æ–±–Ω—ã–µ –≤–∞–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone https://github.com/EthernalSolitude/road-helmet-detection.git
   cd road_helmet_detecion
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
   ```bash
   docker-compose up -d --build
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:**
   –û—Ç–∫—Ä–æ–π—Ç–µ **Docker Desktop** ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Containers**. –î–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å:
   - `helmet_app` (FastAPI —Å–µ—Ä–≤–∏—Å)
   - `helmet_db` (PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)

4. **–û—Ç–∫—Ä–æ–π—Ç–µ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
   –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: [http://localhost:8000/docs](http://localhost:8000/docs)
---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
helmet_detection_service/
‚îú‚îÄ‚îÄ app.py                  # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ models.py               # –ú–æ–¥–µ–ª–∏ SQLAlchemy (—Ç–∞–±–ª–∏—Ü–∞ violations)
‚îú‚îÄ‚îÄ best.pt                 # –û–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å YOLOv8 (–ª—é–¥–∏ + —à–ª–µ–º—ã)
‚îú‚îÄ‚îÄ Dockerfile              # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞
‚îú‚îÄ‚îÄ docker-compose.yml      # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ requirements.txt        # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ videos/                 # –ü–∞–ø–∫–∞ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö –≤–∏–¥–µ–æ
‚îú‚îÄ‚îÄ outputs/                # –ü–∞–ø–∫–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ
‚îî‚îÄ‚îÄ violations_frames/      # –ü–∞–ø–∫–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤ –Ω–∞—Ä—É—à–µ–Ω–∏–π
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (docker-compose.yml)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è       | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é                                    | –û–ø–∏—Å–∞–Ω–∏–µ                |
| ---------------- | -------------------------------------------------------- | ----------------------- |
| `DATABASE_URL`   | `postgresql+psycopg://helmet_user:1234@db:5432/helmet_db` | –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î |

### –ü–æ—Ä—Ç—ã

| –°–µ—Ä–≤–∏—Å      | –í–Ω–µ—à–Ω–∏–π –ø–æ—Ä—Ç | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ              |
| ----------- | ------------ | --------------- | --------------------- |
| `app`       | 8000         | 8000            | FastAPI –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
| `db` (–ë–î)   | 5433         | 5432            | PostgreSQL            |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–æ—Ä—Ç 5433 –≤—ã–±—Ä–∞–Ω, —á—Ç–æ–±—ã –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –ª–æ–∫–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º PostgreSQL (–ø–æ—Ä—Ç 5432).

---

## –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ pgAdmin

1. –û—Ç–∫—Ä–æ–π—Ç–µ **pgAdmin 4**
2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä** (–ü–ö–ú –Ω–∞ Servers ‚Üí Register ‚Üí Server...)
3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

   **–í–∫–ª–∞–¥–∫–∞ "General":**
   - Name: `Docker Helmet DB`

   **–í–∫–ª–∞–¥–∫–∞ "Connection":**
   - Host name/address: `localhost`
   - Port: `5433`
   - Maintenance database: `helmet_db`
   - Username: `helmet_user`
   - Password: `1234`

4. –ù–∞–∂–º–∏—Ç–µ **Save**


## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

![Swagger UI Interface](assets/swagger_screenshot.png)

#### 1. `POST /process_video/`
–ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤–∏–¥–µ–æ –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–Ω–∞–ª–∏–∑.

#### 2. `GET /violations/`
–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞—Ä—É—à–µ–Ω–∏–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

#### 3. `DELETE /clear_history`
–û—á–∏—â–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –ø–∞–ø–∫–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º–∏ –≤–∏–¥–µ–æ –∏ —Ñ–∞–π–ª–∞–º–∏.

#### 4. `GET /download_video/{filename}`
–°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

---

### –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å GPU:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ `Dockerfile`**
2. **–ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –í–ê–†–ò–ê–ù–¢ 1 (CPU), —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –í–ê–†–ò–ê–ù–¢ 2:**
   ```dockerfile
   # –í–ê–†–ò–ê–ù–¢ 1 (CPU ONLY):
   # RUN pip install --no-cache-dir torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu && \
   #     pip install --no-cache-dir -r requirements.txt

   # –í–ê–†–ò–ê–ù–¢ 2 (GPU SUPPORT):
   RUN pip install --no-cache-dir -r requirements.txt
   ```

3. **–û—Ç–∫—Ä–æ–π—Ç–µ `docker-compose.yml`**
4. **–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ü–∏—é `deploy`:**
   ```yaml
   deploy:
     resources:
       reservations:
         devices:
           - driver: nvidia
             count: 1
             capabilities: [gpu]
   ```

5. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑:**
   ```bash
   docker-compose down
   docker-compose up -d --build
   ```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

- **–ú–µ—Ç—Ä–∏–∫–∞ Recall –¥–ª—è –∫–ª–∞—Å—Å–∞ `PNoHelmet`:** –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ Recall —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç ~0.59.
  - *–ü—Ä–∏—á–∏–Ω–∞:* –°–ª–æ–∂–Ω—ã–π —Ñ–æ–Ω, –±–ª–∏–∫–∏, —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Ä–∞–∫—É—Ä—Å–æ–≤ –∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –≤ –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–µ (Imbalanced Dataset).
- **–õ–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è:** –í–æ–∑–º–æ–∂–Ω–∞ –ø—É—Ç–∞–Ω–∏—Ü–∞ —Å –ø–æ—Ö–æ–∂–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ (–∫–∞–ø—é—à–æ–Ω—ã, —à–∞–ø–∫–∏) –Ω–∞ –±–æ–ª—å—à–æ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏.
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ –≤ –≤—ã—Å–æ–∫–æ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏ –Ω–∞ CPU –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ–π.

---

## üöÄ –ü–ª–∞–Ω—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é (Future Improvements)

- [ ] **–î–∞—Ç–∞—Å–µ—Ç:** –†–∞—Å—à–∏—Ä–∏—Ç—å –¥–∞—Ç–∞—Å–µ—Ç –ø—Ä–∏–º–µ—Ä–∞–º–∏ –ª—é–¥–µ–π –±–µ–∑ —à–ª–µ–º–æ–≤ (Data Augmentation).
- [ ] **Hard Negative Mining:** –î–æ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö (–∫–∞–ø—é—à–æ–Ω—ã, —à–∞–ø–∫–∏), —á—Ç–æ–±—ã —Å–Ω–∏–∑–∏—Ç—å –ª–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è.
- [ ] **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –≠–∫—Å–ø–æ—Ä—Ç –º–æ–¥–µ–ª–∏ –≤ TensorRT/ONNX –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞.
- [ ] **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ –Ω–∞ React/Vue –≤–º–µ—Å—Ç–æ Swagger UI.
- [ ] **Real-time –æ–±—Ä–∞–±–æ—Ç–∫–∞:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ RTSP-–ø–æ—Ç–æ–∫–æ–≤ —á–µ—Ä–µ–∑ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å (Celery/Redis).

